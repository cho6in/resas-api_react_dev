(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),c=a.n(s),i=(a(18),a(9)),o=a(4),l=a(5),p=a(10),u=a(6),h=a(11),f=a(1),d=a(7),v=a.n(d),m=a(8),g=a.n(m),j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={selected_pref:Array(47).fill(!1),prefectures:{},series:[]},e.changePrefSelect=e.changePrefSelect.bind(Object(f.a)(Object(f.a)(e))),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":"F6NJ8KWjjnpTzkk47savZg1USOSc1d6EQV3FStlJ"}}).then(function(e){return e.json()}).then(function(t){e.setState({prefectures:t.result})})}},{key:"changePrefSelect",value:function(e){var t=this,a=this.state.selected_pref.slice();if(a[e]=!a[e],this.state.selected_pref[e]){for(var n=this.state.series.slice(),r=0;r<n.length;r++)n[r].name==this.state.prefectures[e].prefName&&n.splice(r,1);this.setState({selected_pref:a,series:n})}else fetch("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?cityCode=-&prefCode=".concat(e+1),{headers:{"X-API-KEY":"F6NJ8KWjjnpTzkk47savZg1USOSc1d6EQV3FStlJ"}}).then(function(e){return e.json()}).then(function(n){var r=[];Object.keys(n.result.data[0].data).forEach(function(e){r.push(n.result.data[0].data[e].value)});var s={name:t.state.prefectures[e].prefName,data:r};t.setState({selected_pref:a,series:[].concat(Object(i.a)(t.state.series),[s])})})}},{key:"renderElem",value:function(e){var t=this;return r.a.createElement("div",{class:"chkbox",key:e.prefCode},r.a.createElement("input",{id:e.prefCode-1,type:"checkbox",checked:this.state.selected_pref[e.prefCode-1],onChange:function(){return t.changePrefSelect(e.prefCode-1)}}),r.a.createElement("label",{for:e.prefCode-1},e.prefName))}},{key:"render",value:function(){var e=this,t=this.state.prefectures,a={title:{text:"\u90fd\u9053\u5e9c\u770c\u5225\u4eba\u53e3\u63a8\u79fb"},yAxis:{title:{text:"\u4eba\u53e3\u6570"}},plotOptions:{series:{pointInterval:5,pointStart:1960}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},series:this.state.series};return r.a.createElement("div",null,r.a.createElement("h1",{class:"title"},"Population Trends in japan"),r.a.createElement("h2",{class:"subtitle"},"\u90fd\u9053\u5e9c\u770c"),r.a.createElement("div",{class:"chkboxWrap"},Object.keys(t).map(function(a){return e.renderElem(t[a])})),r.a.createElement(v.a,{highcharts:g.a,options:a}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.f46d709d.chunk.js.map